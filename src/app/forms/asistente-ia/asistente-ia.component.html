<div class="card shadow p-4">
  <h5 class="mb-3 text-primary fw-semibold">
    ğŸ¤– Asistente Inteligente <span class="text-dark">LabClinic</span>
  </h5>

  <textarea [(ngModel)]="prompt" rows="4" class="form-control mb-3"
    placeholder="Escribe una pregunta para el asistente..."></textarea>

  <button class="btn btn-primary w-100" (click)="enviar()" [disabled]="cargando">
    <i class="bi" [ngClass]="cargando ? 'bi-hourglass-split' : 'bi-send'"></i>
    {{ cargando ? 'Consultando...' : 'Enviar' }}
  </button>

  <div *ngIf="cargando" class="mt-3 text-muted small fst-italic">
    <i class="bi bi-three-dots"></i> El asistente estÃ¡ pensando...
  </div>

  <div *ngIf="respuesta && !cargando" class="alert alert-info mt-3">
    <strong>ğŸ’¬ Respuesta:</strong>
    <div class="mt-2" [innerHTML]="respuesta"></div>
  </div>

  <hr *ngIf="historial.length > 0" />

  <div *ngIf="historial.length > 0" class="historial mt-3">
    <h6 class="text-secondary mb-2">ğŸ•˜ Historial reciente</h6>
    <div *ngFor="let item of historial" class="mb-3 p-2 border rounded bg-light">
      <div class="fw-semibold text-dark">ğŸ‘¤ TÃº:</div>
      <div class="mb-2">{{ item.pregunta }}</div>
      <div class="fw-semibold text-primary">ğŸ¤– Asistente:</div>
      <div [innerHTML]="item.respuesta"></div>
    </div>
  </div>
</div>
